theory StatefulInterpreter
  imports Main DataTypes 
begin

typedecl stateful_interpreter

(*record stateful_interpreter =
  public_params :: public_param
  private_params :: private_param
  code :: code
  state :: "(instance_label \<times> (instance_state \<times> nat)) map" (* Is this right? *)
  port_count :: nat
 (* input_queues ::  ? *)

definition process_inputs ::"'a stateful_interpreter_scheme  \<Rightarrow> nat \<Rightarrow> msg \<Rightarrow> write_instructions"  where
  "process_inputs i input_port msg = 
    if k < 0 or port_count i \<le> input_port
       then ?
     else    "*)
end
